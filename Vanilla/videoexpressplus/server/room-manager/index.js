"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _opentok=_interopRequireDefault(require("opentok")),_utils=require("../utils"),_participant=_interopRequireDefault(require("./participant")),_roomManagerError=require("./room-manager-error");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}class RoomManager{constructor(a,b,c,d,e,f){this.applicationId=c,this.apiKey=a,this.apiSecret=b,this.opentok=new _opentok.default(a,b),this.hasBreakoutRooms=d,this.hasWaitingRoom=e,this.hasWhiteboard=f,this.store=new Map,this.pstore=new Map}/**
   *
   * @param {*} options
   * @param {*} callback
   * @returns
   */createRoom(a){return this.opentok.createSession({mediaMode:"routed"},a)}/**
   * Adds a participant.
   *
   * @param {*} name - The name to display in the UI.
   *            This need not be unique.
   * @param {*} isHost - (optional) Whether the participant
   *            is (initially) a host. Any participant can
   *            later be promoted to a host.)
   * @param {*} id - (optional) The unique ID for the participant.
   *            If you do not specify an ID, a unique ID will be
   *            assigned. The developer may want to specify the participant ID
   *            if they have their own user identity records. That way, they
   *            can use this ID and look up users by their identifiers
   *            when they call getParticipantInfo().
   */addParticipant(a,b,c){var d,e;const f=c||(0,_utils.generateID)(),g=null===(d=this.store.get("parent"))||void 0===d?void 0:d.sessionId,h=null===(e=this.store.get("main"))||void 0===e?void 0:e.sessionID;this.pstore.set(a,new _participant.default(f,a,b,h,g))}/**
   *
   * @param {*} id - Unique Id of Participant
   */getParticipant(a){return this.pstore.get(a)}/**
   * Handle Client Events
   * @param requestBody
   * @returns
   */handleClientEvent(a){const b=this;switch(a.action){case"createMainRoom":{let c={},d={};// creates main room
const e=new Promise(a=>{this.createRoom((d,e)=>{if(d)throw new _roomManagerError.RoomManagerError("unable to create Room");const f=b.opentok.generateToken(e.sessionId);c={sessionId:e.sessionId,apiKey:b.apiKey,token:f},a()})}),f=new Promise(a=>{this.createRoom((c,e)=>{if(c&&c)throw new _roomManagerError.RoomManagerError("unable to create Messaging Session");const f=b.opentok.generateToken(e.sessionId);d={sessionId:e.sessionId,apiKey:b.apiKey,token:f},a()})});// creates parent room
return Promise.all([e,f]).then(()=>(this.store.set("participant",{name:null===a||void 0===a?void 0:a.participantId,roomId:"main"}),this.store.set("main",c),this.store.set("parent",d),{main:c,parent:d}))}case"getRoomData":return Promise.resolve({main:this.store.get("main"),parent:this.store.get("parent")});case"createBreakoutRoom":{let a={sessionId:"",apiKey:"",token:""};const c=new Promise(c=>{this.createRoom((d,e)=>{if(d)throw new _roomManagerError.RoomManagerError("unable to create Breakout Session");const f=b.opentok.generateToken(e.sessionId);a={sessionId:e.sessionId,apiKey:b.apiKey,token:f},c()})});return c.then(()=>(this.store.set(a.sessionId,a),Promise.resolve({main:this.store.get("main"),parent:this.store.get("parent"),break:a})))}case"getBreakOutRoomData":return Promise.resolve({main:this.store.get("main"),parent:this.store.get("parent"),break:this.store.get("break")});case"updateParticipantId":{const b=this.getParticipant(a.name);b&&a.participantId?b.id=a.participantId:this.addParticipant(a.name,!0,a.participantId?a.participantId:"");const c=this.getParticipant(a.name);return Promise.resolve(c)}case"joinBreakOutRoom":{const b=this.store.get("parent"),c=this.store.get(a.breakoutRoomId),d=this.pstore.get(a.name);return d&&(this.opentok.signal(b.sessionId,d.id,{type:"command",data:{break:c,context:"go-to-breakout-room"}},a=>a),d.activeRoomId=c.sessionId),Promise.resolve(d)}case"updateWaitingState":{const b=this.pstore.get(a.name),c=this.store.get("parent"),d=this.store.get("main");return b&&(this.opentok.signal(c.sessionId,b.id,{type:"allow-participant",data:{main:d,context:"go-to-main-room"}},a=>a),b.activeRoomId=d.sessionId),Promise.resolve(b)}default:throw new _roomManagerError.RoomManagerError(`unhandled client event ${a.action}`);}}}var _default=RoomManager;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb29tTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiYXBpS2V5IiwiYXBpU2VjcmV0IiwiYXBwbGljYXRpb25JZCIsImhhc0JyZWFrb3V0Um9vbXMiLCJoYXNXYWl0aW5nUm9vbSIsImhhc1doaXRlYm9hcmQiLCJvcGVudG9rIiwiT3BlblRvayIsInN0b3JlIiwiTWFwIiwicHN0b3JlIiwiY3JlYXRlUm9vbSIsImNhbGxiYWNrIiwiY3JlYXRlU2Vzc2lvbiIsIm1lZGlhTW9kZSIsImFkZFBhcnRpY2lwYW50IiwibmFtZSIsImlzSG9zdCIsImlkIiwicGFydGljaXBhbnRJZCIsImdlbmVyYXRlSUQiLCJtZXNzYWdpbmdTZXNzaW9uVG9rZW4iLCJnZXQiLCJzZXNzaW9uSWQiLCJtYWluU2Vzc2lvblRva2VuIiwic2Vzc2lvbklEIiwic2V0IiwiUGFydGljaXBhbnQiLCJnZXRQYXJ0aWNpcGFudCIsImlkT3JOYW1lIiwiaGFuZGxlQ2xpZW50RXZlbnQiLCJyZXF1ZXN0Qm9keSIsInRoYXQiLCJhY3Rpb24iLCJtYWluRGF0YSIsInBhcmVudERhdGEiLCJtYWluUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXJyIiwic2Vzc2lvbiIsIlJvb21NYW5hZ2VyRXJyb3IiLCJ0b2tlbiIsImdlbmVyYXRlVG9rZW4iLCJwYXJlbnRQcm9taXNlIiwiYWxsIiwidGhlbiIsInJvb21JZCIsIm1haW4iLCJwYXJlbnQiLCJicmVha091dERhdGEiLCJicmVhb3V0UHJvbWlzZSIsImJyZWFrIiwiZXhpc3RpbmdQYXJ0aWNpcGFudCIsInAiLCJtZXNzYWdpbmdTZXNzaW9uIiwiYnJlYWtPdXRTZXNzaW9uIiwiYnJlYWtvdXRSb29tSWQiLCJwYXJ0aWNpcGFudCIsInNpZ25hbCIsInR5cGUiLCJkYXRhIiwiY29udGV4dCIsImUiLCJhY3RpdmVSb29tSWQiLCJtYWluU2Vzc2lvbiJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9yb29tLW1hbmFnZXIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wZW5Ub2ssIHsgU2Vzc2lvbk9wdGlvbnMgfSBmcm9tICdvcGVudG9rJztcbmltcG9ydCB7IElDbGllbnRSZXF1ZXN0Qm9keSwgSVBhcnRpY2lwYW50LCBSb29tIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJRCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBQYXJ0aWNpcGFudCBmcm9tICcuL3BhcnRpY2lwYW50JztcbmltcG9ydCB7IFJvb21NYW5hZ2VyRXJyb3IgfSBmcm9tICcuL3Jvb20tbWFuYWdlci1lcnJvcic7XG5cbmNsYXNzIFJvb21NYW5hZ2VyIHtcbiAgICBhcHBsaWNhdGlvbklkOiBzdHJpbmc7XG5cbiAgICBhcGlTZWNyZXQ6IHN0cmluZztcblxuICAgIGFwaUtleTogc3RyaW5nO1xuXG4gICAgb3BlbnRvazogT3BlblRvaztcblxuICAgIGhhc0JyZWFrb3V0Um9vbXM/OiBib29sZWFuO1xuXG4gICAgaGFzV2FpdGluZ1Jvb20/OiBib29sZWFuO1xuXG4gICAgaGFzV2hpdGVib2FyZD86IGJvb2xlYW47XG5cbiAgICBzdG9yZTogTWFwPHN0cmluZywgYW55PjtcblxuICAgIHBzdG9yZTogTWFwPHN0cmluZywgSVBhcnRpY2lwYW50PjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcGlLZXk6IHN0cmluZyxcbiAgICAgICAgYXBpU2VjcmV0OiBzdHJpbmcsXG4gICAgICAgIGFwcGxpY2F0aW9uSWQ6IHN0cmluZyxcbiAgICAgICAgaGFzQnJlYWtvdXRSb29tczogYm9vbGVhbixcbiAgICAgICAgaGFzV2FpdGluZ1Jvb206IGJvb2xlYW4sXG4gICAgICAgIGhhc1doaXRlYm9hcmQ6IGJvb2xlYW4sXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb25JZCA9IGFwcGxpY2F0aW9uSWQ7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLmFwaVNlY3JldCA9IGFwaVNlY3JldDtcbiAgICAgICAgdGhpcy5vcGVudG9rID0gbmV3IE9wZW5Ub2soYXBpS2V5LCBhcGlTZWNyZXQpO1xuICAgICAgICB0aGlzLmhhc0JyZWFrb3V0Um9vbXMgPSBoYXNCcmVha291dFJvb21zO1xuICAgICAgICB0aGlzLmhhc1dhaXRpbmdSb29tID0gaGFzV2FpdGluZ1Jvb207XG4gICAgICAgIHRoaXMuaGFzV2hpdGVib2FyZCA9IGhhc1doaXRlYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucHN0b3JlID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnNcbiAgICogQHBhcmFtIHsqfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuc1xuICAgKi9cblxuICAgIGNyZWF0ZVJvb20oY2FsbGJhY2s6IGFueSk6IGFueSB7XG4gICAgICAgIGNvbnN0IG9wdHM6IFNlc3Npb25PcHRpb25zID0ge1xuICAgICAgICAgICAgbWVkaWFNb2RlOiAncm91dGVkJyxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5vcGVudG9rLmNyZWF0ZVNlc3Npb24ob3B0cywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiBBZGRzIGEgcGFydGljaXBhbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSAtIFRoZSBuYW1lIHRvIGRpc3BsYXkgaW4gdGhlIFVJLlxuICAgKiAgICAgICAgICAgIFRoaXMgbmVlZCBub3QgYmUgdW5pcXVlLlxuICAgKiBAcGFyYW0geyp9IGlzSG9zdCAtIChvcHRpb25hbCkgV2hldGhlciB0aGUgcGFydGljaXBhbnRcbiAgICogICAgICAgICAgICBpcyAoaW5pdGlhbGx5KSBhIGhvc3QuIEFueSBwYXJ0aWNpcGFudCBjYW5cbiAgICogICAgICAgICAgICBsYXRlciBiZSBwcm9tb3RlZCB0byBhIGhvc3QuKVxuICAgKiBAcGFyYW0geyp9IGlkIC0gKG9wdGlvbmFsKSBUaGUgdW5pcXVlIElEIGZvciB0aGUgcGFydGljaXBhbnQuXG4gICAqICAgICAgICAgICAgSWYgeW91IGRvIG5vdCBzcGVjaWZ5IGFuIElELCBhIHVuaXF1ZSBJRCB3aWxsIGJlXG4gICAqICAgICAgICAgICAgYXNzaWduZWQuIFRoZSBkZXZlbG9wZXIgbWF5IHdhbnQgdG8gc3BlY2lmeSB0aGUgcGFydGljaXBhbnQgSURcbiAgICogICAgICAgICAgICBpZiB0aGV5IGhhdmUgdGhlaXIgb3duIHVzZXIgaWRlbnRpdHkgcmVjb3Jkcy4gVGhhdCB3YXksIHRoZXlcbiAgICogICAgICAgICAgICBjYW4gdXNlIHRoaXMgSUQgYW5kIGxvb2sgdXAgdXNlcnMgYnkgdGhlaXIgaWRlbnRpZmllcnNcbiAgICogICAgICAgICAgICB3aGVuIHRoZXkgY2FsbCBnZXRQYXJ0aWNpcGFudEluZm8oKS5cbiAgICovXG5cbiAgICBhZGRQYXJ0aWNpcGFudChuYW1lOiBzdHJpbmcsIGlzSG9zdDogYm9vbGVhbiwgaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudElkID0gaWQgfHwgZ2VuZXJhdGVJRCgpO1xuICAgICAgICBjb25zdCBtZXNzYWdpbmdTZXNzaW9uVG9rZW4gPSB0aGlzLnN0b3JlLmdldCgncGFyZW50Jyk/LnNlc3Npb25JZDtcbiAgICAgICAgY29uc3QgbWFpblNlc3Npb25Ub2tlbiA9IHRoaXMuc3RvcmUuZ2V0KCdtYWluJyk/LnNlc3Npb25JRDtcblxuICAgICAgICB0aGlzLnBzdG9yZS5zZXQoXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFBhcnRpY2lwYW50KFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50SWQsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBpc0hvc3QsXG4gICAgICAgICAgICAgICAgbWFpblNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdTZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICApLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGlkIC0gVW5pcXVlIElkIG9mIFBhcnRpY2lwYW50XG4gICAqL1xuXG4gICAgZ2V0UGFydGljaXBhbnQoaWRPck5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5wc3RvcmUuZ2V0KGlkT3JOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICogSGFuZGxlIENsaWVudCBFdmVudHNcbiAgICogQHBhcmFtIHJlcXVlc3RCb2R5XG4gICAqIEByZXR1cm5zXG4gICAqL1xuXG4gICAgaGFuZGxlQ2xpZW50RXZlbnQocmVxdWVzdEJvZHk6IElDbGllbnRSZXF1ZXN0Qm9keSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICBzd2l0Y2ggKHJlcXVlc3RCb2R5LmFjdGlvbikge1xuICAgICAgICBjYXNlICdjcmVhdGVNYWluUm9vbSc6IHtcbiAgICAgICAgICAgIGxldCBtYWluRGF0YSA9IHt9O1xuICAgICAgICAgICAgbGV0IHBhcmVudERhdGEgPSB7fTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlcyBtYWluIHJvb21cblxuICAgICAgICAgICAgY29uc3QgbWFpblByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUm9vbSgoZXJyOiBFcnJvciwgc2Vzc2lvbjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSb29tTWFuYWdlckVycm9yKCd1bmFibGUgdG8gY3JlYXRlIFJvb20nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRoYXQub3BlbnRvay5nZW5lcmF0ZVRva2VuKHNlc3Npb24uc2Vzc2lvbklkKTtcblxuICAgICAgICAgICAgICAgICAgICBtYWluRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlLZXk6IHRoYXQuYXBpS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGVzIHBhcmVudCByb29tXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUm9vbSgoZXJyOiBFcnJvciwgc2Vzc2lvbjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUm9vbU1hbmFnZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VuYWJsZSB0byBjcmVhdGUgTWVzc2FnaW5nIFNlc3Npb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0aGF0Lm9wZW50b2suZ2VuZXJhdGVUb2tlbihzZXNzaW9uLnNlc3Npb25JZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlLZXk6IHRoYXQuYXBpS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW21haW5Qcm9taXNlLCBwYXJlbnRQcm9taXNlXSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXQoJ3BhcnRpY2lwYW50Jywge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Qm9keT8ucGFydGljaXBhbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiAnbWFpbicsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXQoJ21haW4nLCBtYWluRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXQoJ3BhcmVudCcsIHBhcmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWFpbjogbWFpbkRhdGEsIHBhcmVudDogcGFyZW50RGF0YSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZ2V0Um9vbURhdGEnOiB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBtYWluOiB0aGlzLnN0b3JlLmdldCgnbWFpbicpLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5zdG9yZS5nZXQoJ3BhcmVudCcpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY3JlYXRlQnJlYWtvdXRSb29tJzoge1xuICAgICAgICAgICAgbGV0IGJyZWFrT3V0RGF0YTogUm9vbSA9IHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6ICcnLFxuICAgICAgICAgICAgICAgIGFwaUtleTogJycsXG4gICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFvdXRQcm9taXNlID0gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJvb20oKGVycjogRXJyb3IsIHNlc3Npb246IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUm9vbU1hbmFnZXJFcnJvcigndW5hYmxlIHRvIGNyZWF0ZSBCcmVha291dCBTZXNzaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0aGF0Lm9wZW50b2suZ2VuZXJhdGVUb2tlbihzZXNzaW9uLnNlc3Npb25JZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtPdXREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLnNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUtleTogdGhhdC5hcGlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBicmVhb3V0UHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnNldChicmVha091dERhdGEuc2Vzc2lvbklkLCBicmVha091dERhdGEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIG1haW46IHRoaXMuc3RvcmUuZ2V0KCdtYWluJyksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5zdG9yZS5nZXQoJ3BhcmVudCcpLFxuICAgICAgICAgICAgICAgICAgICBicmVhazogYnJlYWtPdXREYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZ2V0QnJlYWtPdXRSb29tRGF0YSc6IHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIG1haW46IHRoaXMuc3RvcmUuZ2V0KCdtYWluJyksXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLnN0b3JlLmdldCgncGFyZW50JyksXG4gICAgICAgICAgICAgICAgYnJlYWs6IHRoaXMuc3RvcmUuZ2V0KCdicmVhaycpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndXBkYXRlUGFydGljaXBhbnRJZCc6IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUGFydGljaXBhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KHJlcXVlc3RCb2R5Lm5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdQYXJ0aWNpcGFudCAmJiByZXF1ZXN0Qm9keS5wYXJ0aWNpcGFudElkKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdQYXJ0aWNpcGFudC5pZCA9IHJlcXVlc3RCb2R5LnBhcnRpY2lwYW50SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBhcnRpY2lwYW50KFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Qm9keS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Qm9keS5wYXJ0aWNpcGFudElkID8gcmVxdWVzdEJvZHkucGFydGljaXBhbnRJZCA6ICcnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5nZXRQYXJ0aWNpcGFudChyZXF1ZXN0Qm9keS5uYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdqb2luQnJlYWtPdXRSb29tJzoge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnaW5nU2Vzc2lvbiA9IHRoaXMuc3RvcmUuZ2V0KCdwYXJlbnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrT3V0U2Vzc2lvbiA9IHRoaXMuc3RvcmUuZ2V0KHJlcXVlc3RCb2R5LmJyZWFrb3V0Um9vbUlkKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5wc3RvcmUuZ2V0KHJlcXVlc3RCb2R5Lm5hbWUpO1xuICAgICAgICAgICAgY29uc3QgY2IgPSAoZTogYW55KSA9PiBlO1xuXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW50b2suc2lnbmFsKFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmdTZXNzaW9uLnNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb21tYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazogYnJlYWtPdXRTZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnby10by1icmVha291dC1yb29tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnQuYWN0aXZlUm9vbUlkID0gYnJlYWtPdXRTZXNzaW9uLnNlc3Npb25JZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXJ0aWNpcGFudCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndXBkYXRlV2FpdGluZ1N0YXRlJzoge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLnBzdG9yZS5nZXQocmVxdWVzdEJvZHkubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdpbmdTZXNzaW9uID0gdGhpcy5zdG9yZS5nZXQoJ3BhcmVudCcpO1xuICAgICAgICAgICAgY29uc3QgbWFpblNlc3Npb24gPSB0aGlzLnN0b3JlLmdldCgnbWFpbicpO1xuICAgICAgICAgICAgY29uc3QgY2IgPSAoZTogYW55KSA9PiBlO1xuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVudG9rLnNpZ25hbChcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nU2Vzc2lvbi5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50LmlkLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWxsb3ctcGFydGljaXBhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IG1haW5TZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnby10by1tYWluLXJvb20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2IsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5hY3RpdmVSb29tSWQgPSBtYWluU2Vzc2lvbi5zZXNzaW9uSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcnRpY2lwYW50KTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFJvb21NYW5hZ2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgYHVuaGFuZGxlZCBjbGllbnQgZXZlbnQgJHtyZXF1ZXN0Qm9keS5hY3Rpb259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvb21NYW5hZ2VyO1xuIl0sIm1hcHBpbmdzIjoic1dBTUEsS0FBTUEsWUFBWSxDQW1CZEMsV0FBVyxDQUNQQyxDQURPLENBRVBDLENBRk8sQ0FHUEMsQ0FITyxDQUlQQyxDQUpPLENBS1BDLENBTE8sQ0FNUEMsQ0FOTyxDQU9ULENBQ0UsS0FBS0gsYUFBTCxDQUFxQkEsQ0FEdkIsQ0FFRSxLQUFLRixNQUFMLENBQWNBLENBRmhCLENBR0UsS0FBS0MsU0FBTCxDQUFpQkEsQ0FIbkIsQ0FJRSxLQUFLSyxPQUFMLENBQWUsR0FBSUMsaUJBQUosQ0FBWVAsQ0FBWixDQUFvQkMsQ0FBcEIsQ0FKakIsQ0FLRSxLQUFLRSxnQkFBTCxDQUF3QkEsQ0FMMUIsQ0FNRSxLQUFLQyxjQUFMLENBQXNCQSxDQU54QixDQU9FLEtBQUtDLGFBQUwsQ0FBcUJBLENBUHZCLENBUUUsS0FBS0csS0FBTCxDQUFhLEdBQUlDLElBUm5CLENBU0UsS0FBS0MsTUFBTCxDQUFjLEdBQUlELElBQ3JCLENBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBRUlFLFVBQVUsQ0FBQ0MsQ0FBRCxDQUFxQixDQUszQixNQUFPLE1BQUtOLE9BQUwsQ0FBYU8sYUFBYixDQUpzQixDQUN6QkMsU0FBUyxDQUFFLFFBRGMsQ0FJdEIsQ0FBaUNGLENBQWpDLENBQ1YsQ0FFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FB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